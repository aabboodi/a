# ุฏููู ุงุณุชุฎุฏุงู ุชุทุจูู ุงููุนูุฏ ุงูุฃูู

## ูููุฏุฑุณูู

### ุจุฏุก ูุญุงุถุฑุฉ ุฌุฏูุฏุฉ

1. ุงูุชุญ ุงูุชุทุจูู ูุฃุฏุฎู ุงูููุฏ ุงูุฎุงุต ุจู
2. ุงุฎุชุฑ ุงูุตู ุงูุฐู ุชุฑูุฏ ุงูุชุฏุฑูุณ ููู
3. ุงุถุบุท ุนูู ุฒุฑ "ุจุฏุก ุงููุญุงุถุฑุฉ"
4. ุณูุชู ูุชุญ ุงููุงููุฑุง ูุงููููุฑูููู ุชููุงุฆูุงู
5. ูุดุงุฑูุฉ ุงูุดุงุดุฉ

ุฃุซูุงุก ุงููุญุงุถุฑุฉุ ุงุถุบุท ุนูู ุฒุฑ "ูุดุงุฑูุฉ ุงูุดุงุดุฉ"
ุงุฎุชุฑ ุงููุงูุฐุฉ ุฃู ุงูุดุงุดุฉ ุงูุชู ุชุฑูุฏ ูุดุงุฑูุชูุง
ููููู ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุฑุณู ูููุชุงุจุฉ ุนูู ุงูุดุงุดุฉ ุงููุดุงุฑูุฉ
ูุฅููุงู ุงููุดุงุฑูุฉุ ุงุถุบุท ุนูู ููุณ ุงูุฒุฑ ูุฑุฉ ุฃุฎุฑู

ุชุณุฌูู ุงููุญุงุถุฑุฉ

ุงุถุบุท ุนูู ุฒุฑ "ุงูุชุณุฌูู" ูุจุฏุก ุชุณุฌูู ุงููุญุงุถุฑุฉ
ุณูุธูุฑ ูุคุดุฑ ุฃุญูุฑ ูุฏู ุนูู ุฃู ุงูุชุณุฌูู ูุดุท
ูุฅููุงู ุงูุชุณุฌููุ ุงุถุบุท ุนูู ููุณ ุงูุฒุฑ
ุณูุชู ุฅุฑุณุงู ุงูุชุณุฌูู ุชููุงุฆูุงู ููุณู ุงููุญุงุฏุซุฉ ุจุนุฏ ุงูุงูุชูุงุก

ุฅุฏุงุฑุฉ ูุฏุงุฎูุงุช ุงูุทูุงุจ
ุงููุถุน ุงูุญุฑ:

ุงุถุบุท ุนูู ุฒุฑ "ุญุฑ/ูููุฏ" ูุชูุนูู ุงููุถุน ุงูุญุฑ
ูู ูุฐุง ุงููุถุนุ ูููู ููุทูุงุจ ุงูุชุญุฏุซ ุฏูู ุฅุฐู

ุงููุถุน ุงููููุฏ:

ูู ุงููุถุน ุงูุงูุชุฑุงุถูุ ูุฌุจ ุนูู ุงูุทูุงุจ ุทูุจ ุงูุฅุฐู
ุณุชุธูุฑ ุฅุดุนุงุฑุงุช ุนูุฏ ุทูุจ ุฃู ุทุงูุจ ูููุฏุงุฎูุฉ
ุงุถุบุท ุนูู ุงูุฅุดุนุงุฑ ููุณูุงุญ ุฃู ุงูุฑูุถ

ุฅุฏุฎุงู ุงูุนูุงูุงุช

ุงุถุบุท ุนูู ุฒุฑ "ุงูุนูุงูุงุช" ูู ุดุฑูุท ุงูุฃุฏูุงุช
ุณูุธูุฑ ุฌุฏูู ูุญุชูู ุนูู ุฌููุน ุงูุทูุงุจ
ุฃุฏุฎู ุงูุนูุงูุงุช ูู ุงูุฎุงูุงุช ุงูููุงุณุจุฉ:

ุงูุชูุงุนู (7 ุนูุงูุงุช ูุญุฏ ุฃูุตู)
ุงูุชูุงุฑูู (7 ุนูุงูุงุช)
ุงูุดููู (60 ุนูุงูุฉ)
ุงูุฎุทู (7 ุนูุงูุงุช)


ุณูุชู ุญุณุงุจ ุงููุฌููุน ุงูููุงุฆู ุชููุงุฆูุงู
ุงุถุบุท "ุญูุธ" ูุญูุธ ุงูุนูุงูุงุช

ุฅููุงุก ุงููุญุงุถุฑุฉ

ุงุถุบุท ุนูู ุฒุฑ "ุฅููุงุก ุงููุญุงุถุฑุฉ"
ุชุฃูุฏ ูู ุฑุบุจุชู ูู ุงูุฅููุงุก
ุณูุชู ุฅูุดุงุก ุชูุฑูุฑ ุชููุงุฆู ูุญุชูู ุนูู:

ุฃุณูุงุก ุงูุทูุงุจ ุงูุญุงุถุฑูู
ูุฏุฉ ุญุถูุฑ ูู ุทุงูุจ
ุงููุฏุฉ ุงูุฅุฌูุงููุฉ ูููุญุงุถุฑุฉ


ุณูุชู ุญูุธ ุงูุชูุฑูุฑ ูู ุฃุฑุดูู ุงููุฏูุฑ


ููุทูุงุจ
ุงูุงูุถูุงู ูููุญุงุถุฑุฉ

ุงูุชุญ ุงูุชุทุจูู ูุฃุฏุฎู ุงูููุฏ ุงูุฎุงุต ุจู
ุณุชุธูุฑ ูุงุฆูุฉ ุจุงูุตููู ุงููุณุฌู ูููุง
ุงุถุบุท ุนูู ุงูุตู ุงูุฐู ุชุฑูุฏ ุญุถูุฑู
ุณุชูุชูู ูุจุงุดุฑุฉ ูุดุงุดุฉ ุงููุญุงุถุฑุฉ

ุทูุจ ุงููุฏุงุฎูุฉ

ุนูุฏูุง ุชุฑูุฏ ุงูุชุญุฏุซุ ุงุถุบุท ุนูู ุฒุฑ "ุทูุจ ุงููุฏุงุฎูุฉ"
ุงูุชุธุฑ ุญุชู ูุณูุญ ูู ุงููุฏุฑุณ
ุนูุฏ ุงูุณูุงุญุ ุณูุชู ุชูุนูู ุงููููุฑูููู ุชููุงุฆูุงู
ููููู ุฅููุงู/ุชุดุบูู ุงููููุฑูููู ุจุงูุถุบุท ุนูู ุฃููููุฉ ุงููููุฑูููู

ุงุณุชุฎุฏุงู ุงููุญุงุฏุซุฉ

ููููู ูุชุงุจุฉ ุฑุณุงุฆู ูู ูุณู ุงููุญุงุฏุซุฉ ุฃุณูู ุงูุดุงุดุฉ
ุงูุฑุณุงุฆู ูุฑุฆูุฉ ููุฌููุน (ุงููุฏุฑุณ ูุงูุทูุงุจ)
ููููู ูุฑุงุฌุนุฉ ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ ุจุงูุชูุฑูุฑ ููุฃุนูู

ุชูุฒูู ุงูุชุณุฌููุงุช

ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุณุฌููุงุช ูู ุดุฑูุท ุงูุฃุฏูุงุช
ุณุชุธูุฑ ูุงุฆูุฉ ุจุฌููุน ุชุณุฌููุงุช ุงููุญุงุถุฑุงุช
ุงุถุบุท ุนูู "ุชูุฒูู" ูุญูุธ ุงูุชุณุฌูู ุนูู ุฌูุงุฒู
ุฃู ุงุถุบุท ุนูู "ุชุดุบูู" ููุดุงูุฏุฉ ุงูุชุณุฌูู ุฏุงุฎู ุงูุชุทุจูู


ูููุฏูุฑ
ุฅุถุงูุฉ ูุฏุฑุณ ุฌุฏูุฏ

ูู ููุญุฉ ุงูุชุญููุ ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงููุฏุฑุณูู"
ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ูุฏุฑุณ"
ุฃุฏุฎู ุงููุนูููุงุช ุงููุทููุจุฉ:

ุงูุงุณู ุงูุซูุงุซู
ุงูููุฏ (ุณูุณุชุฎุฏูู ููุฏุฎูู)


ุงุถุบุท "ุญูุธ"
ุดุงุฑู ุงูููุฏ ูุน ุงููุฏุฑุณ

ุฅูุดุงุก ุตู ุฌุฏูุฏ

ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงูุตููู" ูู ููุญุฉ ุงูุชุญูู
ุงุถุบุท "ุฅุถุงูุฉ ุตู"
ุฃุฏุฎู ุงุณู ุงูุตู
ุงุฎุชุฑ ุงููุฏุฑุณ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
ุฃุฏุฎู ุฃููุงุฏ ุงูุทูุงุจ (ูุงุญุฏ ูู ูู ุณุทุฑ)
ุณูุธูุฑ ุงุณู ุงูุทุงูุจ ุนูุฏ ุฅุฏุฎุงู ููุฏ ุตุญูุญ
ุฅุฐุง ุฃุฏุฎูุช ููุฏ ุฎุงุทุฆุ ุณูุธูุฑ ุชุญุฐูุฑ
ุงุถุบุท "ุญูุธ"

ุฅุฏุงุฑุฉ ุงูุทูุงุจ

ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงูุทูุงุจ"
ุณุชุฑู ุฌุฏูู ุจุฌููุน ุงูุทูุงุจ
ุงุณุชุฎุฏู ุดุฑูุท ุงูุจุญุซ ููุจุญุซ ุจุงูุงุณูุ ุงูููุฏุ ุฃู ุฑูู ุงููุงุชู

ุฅุถุงูุฉ ุทุงูุจ:

ุงุถุบุท "ุฅุถุงูุฉ ุทุงูุจ"
ุงููุฃ ุงููููุฐุฌ:

ุงูุงุณู ุงูุซูุงุซู
ุฑูู ุงููุงุชู
ุงูููุฏ (ูุฑูุฏ)
ุงูุนูุฑ
ุงููุณุชูู ุงูุญุงูู
ุงููุณุชูู ุงููุทููุจ


ุณูุชู ุชูููุฒ ุงูุทุงูุจ ุจุงูููู ุงูุฃุฎุถุฑ (ุทุงูุจ ุฌุฏูุฏ)

ุชุนุฏูู ุฃู ุญุฐู:

ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ูู ุนููุฏ "ุงูุฅุฌุฑุงุกุงุช"

ูุฑุงุฌุนุฉ ุงูุฃุฑุดูู

ุงุฎุชุฑ "ุงูุฃุฑุดูู" ูู ููุญุฉ ุงูุชุญูู
ุณุชุธูุฑ ุฌููุน ุชูุงุฑูุฑ ุงููุญุงุถุฑุงุช
ููููู:

ุชุตููุฉ ุงูุชูุงุฑูุฑ ุญุณุจ ุงูุชุงุฑูุฎ ุฃู ุงููุฏุฑุณ
ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุฅูู Excel
ุนุฑุถ ุชูุงุตูู ูู ุชูุฑูุฑ



ุฅุฑุณุงู ุฑุณุงุฆู WhatsApp

ุงุฎุชุฑ "ุงูุจูุฆุฉ ุงููุณุชูุฏูุฉ"
ูู ุงููุณู ุงูุฃููุ ููููู ุฅุฏุงุฑุฉ ูุงุฆูุฉ ุงููุชุงุจุนูู:

ุฅุถุงูุฉ ุงุณู ูุฑูู ูุงุชู
ุญุฐู ูุชุงุจุน


ูู ุงููุณู ุงูุซุงููุ ุฅุนุฏุงุฏ WhatsApp API:

ุฃุฏุฎู API Key ูู WhatsApp Business
ุฃุฏุฎู Phone Number ID
ุงุถุบุท "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"


ูุฅุฑุณุงู ุฑุณุงูุฉ:

ุงูุชุจ ุงูุฑุณุงูุฉ ูู ุงูุญูู ุงููุฎุตุต
ุงุฎุชุฑ ุงููุณุชูููู:

"ุงูุฌููุน" - ุฌููุน ุงููุชุงุจุนูู ูุงูุทูุงุจ
ุฃู ุญุฏุฏ ุฃุฑูุงู ูุนููุฉ


ุงุถุบุท "ุฅุฑุณุงู"
ุณุชุธูุฑ ูุชูุฌุฉ ุงูุฅุฑุณุงู (ูุงุฌุญ/ูุงุดู ููู ุฑูู)




ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ
ุงูุฅูุชุฑูุช ุจุทูุก ุฃู ูุชูุทุน
ูููุฏุฑุณูู:

ุณูููู ุงูุชุทุจูู ุชููุงุฆูุงู ุจุชูููู ุฌูุฏุฉ ุงูููุฏูู ููุชููู
ุฅุฐุง ูุงู ุงูุงุชุตุงู ุณูุฆุงู ุฌุฏุงูุ ููุฑ ูู ุงุณุชุฎุฏุงู ุงูุตูุช ููุท
ููููู ุฅููุงู ุงููุงููุฑุง ูุงูุงุนุชูุงุฏ ุนูู ูุดุงุฑูุฉ ุงูุดุงุดุฉ ููุท

ููุทูุงุจ:

ุณูุนูู ุงูุชุทุจูู ุนูู ุถุจุท ุฌูุฏุฉ ุงูุงุณุชูุจุงู ุชููุงุฆูุงู
ุฅุฐุง ูุงูุช ุงููุญุงุถุฑุฉ ูุชูุทุนุฉุ ููููู ูุดุงูุฏุฉ ุงูุชุณุฌูู ูุงุญูุงู

ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช

ุณูุนูู ุงูุชุทุจูู ูู "ูุถุน ุนุฏู ุงูุงุชุตุงู"
ููููู:

ุนุฑุถ ุงูุฑุณุงุฆู ุงููุญููุธุฉ ูุญููุงู
ุฅุฏุฎุงู ุงูุจูุงูุงุช (ุณุชูุฑุณู ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงู)


ุณูุธูุฑ ุดุฑูุท ุจุฑุชูุงูู ูู ุฃุนูู ุงูุดุงุดุฉ
ุนูุฏ ุนูุฏุฉ ุงูุงุชุตุงูุ ุณูุชู ูุฒุงููุฉ ุงูุจูุงูุงุช ุชููุงุฆูุงู

ุงูุตูุช ุฃู ุงูููุฏูู ูุง ูุนูู

ุชุญูู ูู ุตูุงุญูุงุช ุงูุชุทุจูู:

ุงูุชุญ ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ
ุงุจุญุซ ุนู ุงูุชุทุจูู
ุชุฃูุฏ ูู ุชูุนูู ุตูุงุญูุฉ ุงููุงููุฑุง ูุงููููุฑูููู


ุฃุบูู ุงูุชุทุจูู ูุงูุชุญู ูุฑุฉ ุฃุฎุฑู
ุชุฃูุฏ ูู ุนุฏู ุงุณุชุฎุฏุงู ุชุทุจูู ุขุฎุฑ ูููุงููุฑุง/ุงููููุฑูููู

ุฑุณุงูุฉ "ุฌูุณุฉ ููุชููุฉ"

ูู ุจุชุณุฌูู ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู
ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุงุชุตู ุจุงูุฏุนู ุงูููู


ูุตุงุฆุญ ูุฃูุถู ุชุฌุฑุจุฉ
ูููุฏุฑุณูู

ูุจู ุงููุญุงุถุฑุฉ:

ุงุฎุชุจุฑ ุงููุงููุฑุง ูุงููููุฑูููู
ุชุฃูุฏ ูู ุณุฑุนุฉ ุงูุฅูุชุฑูุช
ุฌูุฒ ุงูููุงุฏ ุงูุชู ุณุชุดุงุฑููุง


ุฃุซูุงุก ุงููุญุงุถุฑุฉ:

ุฑุงูุจ ูุงุฆูุฉ ุงูุญุถูุฑ ุจุงูุชุธุงู
ุชูุงุนู ูุน ุงูุทูุงุจ ุนุจุฑ ุงููุญุงุฏุซุฉ
ุงุณุชุฎุฏู ุฃุฏูุงุช ุงูุฑุณู ูุชูุถูุญ ุงูุฃููุงุฑ


ุจุนุฏ ุงููุญุงุถุฑุฉ:

ุฑุงุฌุน ุงูุชูุฑูุฑ ููุชุฃูุฏ ูู ุงูุญุถูุฑ
ุฃุฏุฎู ุงูุนูุงูุงุช ูู ุฃูุฑุจ ููุช
ุชุญูู ูู ุฃู ุงูุชุณุฌูู ุชู ุฑูุนู ุจูุฌุงุญ



ููุทูุงุจ

ุงุณุชุฎุฏู ุณูุงุนุงุช ูุฌูุฏุฉ ุตูุช ุฃูุถู
ุฃุบูู ุงูุชุทุจููุงุช ุงูุฃุฎุฑู ูุชูููุฑ ููุงุฑุฏ ุงูุฌูุงุฒ
ุงุดุญู ุฌูุงุฒู ูุจู ุงููุญุงุถุฑุฉ
ุญููู ุงูุชุณุฌููุงุช ูููุฑุงุฌุนุฉ ูุงุญูุงู

ูููุฏูุฑ

ูุณุฎ ุงุญุชูุงุทู ููุชุธู:

ุตุฏูุฑ ุจูุงูุงุช ุงูุทูุงุจ ุดูุฑูุงู
ุงุญุชูุธ ุจูุณุฎุฉ ูู ุงูุชูุงุฑูุฑ


ูุฑุงุฌุนุฉ ุฏูุฑูุฉ:

ุชุญูู ูู ุฃุฏุงุก ุงููุฏุฑุณูู
ุฑุงุฌุน ูุนุฏูุงุช ุงูุญุถูุฑ
ุญูู ุงูุนูุงูุงุช ูุชุญุฏูุฏ ุงูุทูุงุจ ุงููุชุนุซุฑูู


ุงูุชูุงุตู:

ุงุณุชุฎุฏู ููุฒุฉ WhatsApp ููุฅุนูุงูุงุช ุงููููุฉ
ูุง ุชูุฑุท ูู ุงูุฑุณุงุฆู ูุชุฌูุจ ุงูุฅุฒุนุงุฌ
---

## ๐ง 16. ุฃุฏูุงุช ุงูุชุทููุฑ ุงููุณุงุนุฏุฉ <a name="dev-tools"></a>

### 16.1 Scripts ูููุฏุฉ
```json
// backend/package.json - Scripts section
{
  "scripts": {
    "start": "node src/app.js",
    "dev": "nodemon src/app.js",
    "test": "jest --coverage",
    "test:watch": "jest --watch",
    "lint": "eslint src/**/*.js",
    "lint:fix": "eslint src/**/*.js --fix",
    "db:seed": "node scripts/seed.js",
    "db:backup": "node scripts/backup.js",
    "db:restore": "node scripts/restore.js",
    "logs:clean": "node scripts/clean-logs.js",
    "deploy": "pm2 start ecosystem.config.js --env production"
  }
}
```
```bash
#!/bin/bash
# scripts/seed.js - ุจูุงูุงุช ุชุฌุฑูุจูุฉ ููุชุทููุฑ

const mongoose = require('mongoose');
const User = require('../src/models/User');
const Class = require('../src/models/Class');

async function seedDatabase() {
  await mongoose.connect(process.env.MONGODB_URI);
  
  console.log('๐ฑ Seeding database...');
  
  // ุญุฐู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
  await User.deleteMany({});
  await Class.deleteMany({});
  
  // ุฅูุดุงุก ูุฏูุฑ
  const admin = await User.create({
    code: '0000',
    fullName: 'ุงููุฏูุฑ ุงูุนุงู',
    role: 'admin',
  });
  
  // ุฅูุดุงุก ูุฏุฑุณูู
  const teachers = await User.insertMany([
    {
      code: '1001',
      fullName: 'ุฃุญูุฏ ูุญูุฏ',
      role: 'teacher',
    },
    {
      code: '1002',
      fullName: 'ูุงุทูุฉ ุนูู',
      role: 'teacher',
    },
  ]);
  
  // ุฅูุดุงุก ุทูุงุจ
  const students = await User.insertMany([
    {
      code: '2001',
      fullName: 'ูุญูุฏ ุฃุญูุฏ',
      role: 'student',
      phone: '0912345678',
      age: 16,
      currentLevel: 'ุงูุซุงูููุฉ',
      targetLevel: 'ุงูุจูุงููุฑูุง',
      isNewStudent: true,
    },
    {
      code: '2002',
      fullName: 'ุณุงุฑุฉ ุฎุงูุฏ',
      role: 'student',
      phone: '0923456789',
      age: 15,
      currentLevel: 'ุงูุฅุนุฏุงุฏูุฉ',
      targetLevel: 'ุงูุซุงูููุฉ',
      isNewStudent: false,
    },
    {
      code: '2003',
      fullName: 'ุนูู ุญุณู',
      role: 'student',
      phone: '0934567890',
      age: 17,
      currentLevel: 'ุงูุซุงูููุฉ',
      targetLevel: 'ุงูุจูุงููุฑูุง',
      isNewStudent: false,
    },
  ]);
  
  // ุฅูุดุงุก ุตููู
  await Class.insertMany([
    {
      name: 'ุฑูุงุถูุงุช - ุงูุจูุงููุฑูุง',
      teacherId: teachers[0]._id,
      students: [students[0]._id, students[2]._id],
    },
    {
      name: 'ููุฒูุงุก - ุงูุซุงูููุฉ',
      teacherId: teachers[1]._id,
      students: [students[1]._id],
    },
  ]);
  
  console.log('โ Database seeded successfully!');
  console.log(`Created ${teachers.length} teachers`);
  console.log(`Created ${students.length} students`);
  console.log('Admin code: 0000');
  console.log('Teacher codes: 1001, 1002');
  console.log('Student codes: 2001, 2002, 2003');
  
  await mongoose.disconnect();
}

seedDatabase().catch(console.error);
```

### 16.2 Git Hooks
```bash
# .husky/pre-commit
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Run linting
npm run lint

# Run tests
npm test

# Check for console.log (ุชุญุฐูุฑ ููุท)
if git diff --cached --name-only | grep -E '\.js$' | xargs grep -n 'console\.log' 2>&1 | grep -v '//'; then
    echo "โ๏ธ  Warning: console.log found in staged files"
    echo "Consider removing them before committing"
fi
```

### 16.3 VS Code Configuration
```json
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "files.exclude": {
    "**/node_modules": true,
    "**/.git": true,
    "**/dist": true,
    "**/.dart_tool": true,
    "**/build": true
  },
  "search.exclude": {
    "**/node_modules": true,
    "**/bower_components": true,
    "**/*.log": true
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[dart]": {
    "editor.formatOnSave": true,
    "editor.rulers": [80]
  }
}
```
```json
// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Flutter (Debug)",
      "type": "dart",
      "request": "launch",
      "program": "lib/main.dart"
    },
    {
      "name": "Node.js (Backend)",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/backend/src/app.js",
      "envFile": "${workspaceFolder}/backend/.env"
    }
  ]
}
```

---

## ๐ 17. ูุคุดุฑุงุช ุงูุฃุฏุงุก ูุงููุฑุงูุจุฉ <a name="kpis"></a>

### 17.1 ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงูุฑุฆูุณูุฉ (KPIs)
```javascript
// backend/src/services/analyticsService.js
class AnalyticsService {
  // ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู ุงูููููุฉ
  async getDailyStats() {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    
    const stats = {
      activeSessions: await this.getActiveSessions(),
      totalClasses: await Class.countDocuments(),
      totalStudents: await User.countDocuments({ role: 'student' }),
      totalTeachers: await User.countDocuments({ role: 'teacher' }),
      todayClasses: await ClassReport.countDocuments({
        createdAt: { $gte: today },
      }),
      todayRecordings: await Recording.countDocuments({
        createdAt: { $gte: today },
      }),
      averageClassDuration: await this.getAverageClassDuration(),
      averageAttendance: await this.getAverageAttendance(),
    };
    
    return stats;
  }
  
  // ูุนุฏู ุงูุญุถูุฑ
  async getAverageAttendance() {
    const reports = await ClassReport.find()
      .limit(30)
      .sort({ createdAt: -1 });
    
    if (reports.length === 0) return 0;
    
    const totalAttendance = reports.reduce((sum, report) => {
      const classData = await Class.findById(report.classId);
      const attendanceRate = (report.attendees.length / classData.students.length) * 100;
      return sum + attendanceRate;
    }, 0);
    
    return Math.round(totalAttendance / reports.length);
  }
  
  // ูุชูุณุท ูุฏุฉ ุงูุตููู
  async getAverageClassDuration() {
    const result = await ClassReport.aggregate([
      {
        $group: {
          _id: null,
          avgDuration: { $avg: '$totalDuration' },
        },
      },
    ]);
    
    if (result.length === 0) return 0;
    
    return Math.round(result[0].avgDuration / 60); // ุจุงูุฏูุงุฆู
  }
  
  // ุงูุตููู ุงููุดุทุฉ ุญุงููุงู
  async getActiveSessions() {
    // ุนุฏุฏ ุงูุงุชุตุงูุงุช ุงููุดุทุฉ ูู Socket.io
    const io = require('../app').io;
    return io.sockets.sockets.size;
  }
  
  // ุชูุฑูุฑ ุดุงูู ุดูุฑู
  async getMonthlyReport(year, month) {
    const startDate = new Date(year, month - 1, 1);
    const endDate = new Date(year, month, 0, 23, 59, 59);
    
    const reports = await ClassReport.find({
      createdAt: { $gte: startDate, $lte: endDate },
    }).populate('classId');
    
    const teacherStats = {};
    const classStats = {};
    
    for (const report of reports) {
      const teacherId = report.classId.teacherId.toString();
      const classId = report.classId._id.toString();
      
      // ุฅุญุตุงุฆูุงุช ุงููุฏุฑุณูู
      if (!teacherStats[teacherId]) {
        teacherStats[teacherId] = {
          teacherName: report.teacherName,
          totalClasses: 0,
          totalDuration: 0,
          totalStudents: new Set(),
        };
      }
      
      teacherStats[teacherId].totalClasses++;
      teacherStats[teacherId].totalDuration += report.totalDuration;
      report.attendees.forEach(a => 
        teacherStats[teacherId].totalStudents.add(a.studentId.toString())
      );
      
      // ุฅุญุตุงุฆูุงุช ุงูุตููู
      if (!classStats[classId]) {
        classStats[classId] = {
          className: report.className,
          totalSessions: 0,
          averageAttendance: 0,
          totalDuration: 0,
        };
      }
      
      classStats[classId].totalSessions++;
      classStats[classId].totalDuration += report.totalDuration;
    }
    
    // ุญุณุงุจ ูุนุฏูุงุช ุงูุญุถูุฑ
    for (const classId in classStats) {
      const classData = await Class.findById(classId);
      const sessionsReports = reports.filter(
        r => r.classId._id.toString() === classId
      );
      
      const avgAttendance = sessionsReports.reduce((sum, r) => {
        return sum + (r.attendees.length / classData.students.length);
      }, 0) / sessionsReports.length;
      
      classStats[classId].averageAttendance = Math.round(avgAttendance * 100);
    }
    
    return {
      period: { year, month },
      totalSessions: reports.length,
      totalDuration: reports.reduce((sum, r) => sum + r.totalDuration, 0),
      teacherStats: Object.values(teacherStats).map(t => ({
        ...t,
        totalStudents: t.totalStudents.size,
      })),
      classStats: Object.values(classStats),
    };
  }
}

module.exports = new AnalyticsService();
```

### 17.2 Dashboard ูููุฏูุฑ
```dart
// lib/presentation/screens/admin/analytics_dashboard.dart
class AnalyticsDashboard extends StatefulWidget {
  @override
  _AnalyticsDashboardState createState() => _AnalyticsDashboardState();
}

class _AnalyticsDashboardState extends State<AnalyticsDashboard> {
  Map<String, dynamic>? stats;
  bool isLoading = true;
  
  @override
  void initState() {
    super.initState();
    _loadStats();
  }
  
  Future<void> _loadStats() async {
    try {
      final response = await ApiService().get('/analytics/daily');
      setState(() {
        stats = response;
        isLoading = false;
      });
    } catch (e) {
      setState(() => isLoading = false);
      ErrorHandler.handleError(e, context);
    }
  }
  
  @override
  Widget build(BuildContext context) {
    if (isLoading) {
      return Center(child: CircularProgressIndicator());
    }
    
    return RefreshIndicator(
      onRefresh: _loadStats,
      child: ListView(
        padding: EdgeInsets.all(16),
        children: [
          Text(
            'ุงูุฅุญุตุงุฆูุงุช ุงูููููุฉ',
            style: Theme.of(context).textTheme.headlineMedium,
          ),
          SizedBox(height: 16),
          
          // ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช
          GridView.count(
            shrinkWrap: true,
            physics: NeverScrollableScrollPhysics(),
            crossAxisCount: 2,
            crossAxisSpacing: 16,
            mainAxisSpacing: 16,
            children: [
              _buildStatCard(
                'ุงูุฌูุณุงุช ุงููุดุทุฉ',
                '${stats!['activeSessions']}',
                Icons.people,
                Colors.green,
              ),
              _buildStatCard(
                'ุฅุฌูุงูู ุงูุตููู',
                '${stats!['totalClasses']}',
                Icons.class_,
                Colors.blue,
              ),
              _buildStatCard(
                'ุฅุฌูุงูู ุงูุทูุงุจ',
                '${stats!['totalStudents']}',
                Icons.school,
                Colors.orange,
              ),
              _buildStatCard(
                'ุฅุฌูุงูู ุงููุฏุฑุณูู',
                '${stats!['totalTeachers']}',
                Icons.person,
                Colors.purple,
              ),
              _buildStatCard(
                'ุตููู ุงูููู',
                '${stats!['todayClasses']}',
                Icons.today,
                Colors.teal,
              ),
              _buildStatCard(
                'ุชุณุฌููุงุช ุงูููู',
                '${stats!['todayRecordings']}',
                Icons.videocam,
                Colors.red,
              ),
            ],
          ),
          
          SizedBox(height: 24),
          
          // ูุนุฏูุงุช
          Card(
            child: Padding(
              padding: EdgeInsets.all(16),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Text(
                    'ุงููุนุฏูุงุช',
                    style: TextStyle(
                      fontSize: 18,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  SizedBox(height: 16),
                  _buildProgressIndicator(
                    'ูุนุฏู ุงูุญุถูุฑ',
                    stats!['averageAttendance'],
                    Colors.green,
                  ),
                  SizedBox(height: 12),
                  Row(
                    children: [
                      Icon(Icons.access_time, size: 20, color: Colors.grey),
                      SizedBox(width: 8),
                      Text('ูุชูุณุท ูุฏุฉ ุงูุตู:'),
                      Spacer(),
                      Text(
                        '${stats!['averageClassDuration']} ุฏูููุฉ',
                        style: TextStyle(fontWeight: FontWeight.bold),
                      ),
                    ],
                  ),
                ],
              ),
            ),
          ),
          
          SizedBox(height: 16),
          
          // ุฒุฑ ุงูุชูุฑูุฑ ุงูุดูุฑู
          ElevatedButton.icon(
            onPressed: _showMonthlyReport,
            icon: Icon(Icons.assessment),
            label: Text('ุงูุชูุฑูุฑ ุงูุดูุฑู'),
          ),
        ],
      ),
    );
  }
  
  Widget _buildStatCard(String title, String value, IconData icon, Color color) {
    return Card(
      elevation: 4,
      child: Container(
        padding: EdgeInsets.all(16),
        decoration: BoxDecoration(
          borderRadius: BorderRadius.circular(12),
          gradient: LinearGradient(
            colors: [color, color.withOpacity(0.7)],
            begin: Alignment.topLeft,
            end: Alignment.bottomRight,
          ),
        ),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Icon(icon, size: 40, color: Colors.white),
            SizedBox(height: 8),
            Text(
              value,
              style: TextStyle(
                fontSize: 28,
                fontWeight: FontWeight.bold,
                color: Colors.white,
              ),
            ),
            SizedBox(height: 4),
            Text(
              title,
              style: TextStyle(
                fontSize: 14,
                color: Colors.white,
              ),
              textAlign: TextAlign.center,
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildProgressIndicator(String label, int value, Color color) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Row(
          mainAxisAlignment: MainAxisAlignment.spaceBetween,
          children: [
            Text(label),
            Text(
              '$value%',
              style: TextStyle(fontWeight: FontWeight.bold),
            ),
          ],
        ),
        SizedBox(height: 8),
        LinearProgressIndicator(
          value: value / 100,
          backgroundColor: color.withOpacity(0.2),
          valueColor: AlwaysStoppedAnimation<Color>(color),
          minHeight: 8,
        ),
      ],
    );
  }
  
  void _showMonthlyReport() {
    showDialog(
      context: context,
      builder: (context) => MonthlyReportDialog(),
    );
  }
}
